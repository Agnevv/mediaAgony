<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Lab2 - VR application</title>
    <meta name="description" content="Point Cloud + controls"></meta>

    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="js/aframe-pointcloud-component.js"></script>
  </head>

  <body>
    <a-scene fog="type: exponential; color: #ff4fb8; density: 0.03">
      <a-assets>
        <img id="groundTex" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
      </a-assets>

      <!-- Ground (rožinis) -->
      <a-plane
        src="#groundTex"
        rotation="-90 0 0"
        height="120"
        width="120"
        shader="standard"
        roughness="1"
        material="repeat: 110 110; color: #ff7ad9">
      </a-plane>

      <!-- Sky (rožinis) -->
      <a-sky color="#ff2fa6"></a-sky>

      <!-- Lights (rožinė atmosfera) -->
      <a-light type="ambient" intensity="0.7" color="#ffb3e6"></a-light>
      <a-light type="directional" intensity="0.85" color="#ffd1f0" position="-2 6 2"></a-light>
      <a-light type="point" intensity="0.25" color="#ffffff" position="3 2 -2"></a-light>

      <!-- Camera + cursor -->
      <a-entity camera look-controls wasd-controls position="0 1.6 0">
        <a-entity cursor="fuse: false; rayOrigin: mouse" raycaster="objects: .clickable"></a-entity>
      </a-entity>

      <!-- Point cloud -->
      <a-pointcloud
        id="statue"
        scale="0.1 0.1 0.1"
        position="0 0.55 -4"
        rotation="-90 45 0"
        src="url(sculpt.ply)"
        size="0.01">
      </a-pointcloud>

      <!-- CONTROL PANEL: paguldytas ant zemes pries statula -->
      <!-- Guldom ant zemes: y ~ 0.02, rotation -90 0 0 -->
      <a-entity id="panelFloor" position="0 0.02 -2" rotation="-90 0 0">
        <!-- Panelės fonas (dabar kaip "kilimėlis") -->
        <a-plane
          color="#2a0020"
          width="1.7"
          height="1.2"
          position="0 0 0"
          material="opacity: 0.85">
        </a-plane>

        <!-- Antraštė (gulint) -->
        <a-text
          value="CONTROLS"
          color="#ffd6f2"
          width="2.2"
          position="0 0.52 0.02"
          align="center">
        </a-text>

        <!-- Mygtukai: mažesni, GILESNĮ (depth) ir gulint ant panelės -->
        <!-- SVARBU: kai entity pasukta -90, čia "position.y" yra į viršų panelėje -->

        <!-- ROT- -->
        <a-box class="clickable" id="btn-rotLeft"
          color="#ff4fb8"
          width="0.55" height="0.18" depth="0.20"
          position="-0.45 0.15 0.10">
          <a-text value="ROT -" color="#1a0012" width="1.6" position="0 0 0.12" align="center"></a-text>
        </a-box>

        <!-- ROT+ -->
        <a-box class="clickable" id="btn-rotRight"
          color="#ff4fb8"
          width="0.55" height="0.18" depth="0.20"
          position="0.45 0.15 0.10">
          <a-text value="ROT +" color="#1a0012" width="1.6" position="0 0 0.12" align="center"></a-text>
        </a-box>

        <!-- ZOOM+ -->
        <a-box class="clickable" id="btn-zoomIn"
          color="#ff8fe0"
          width="0.55" height="0.18" depth="0.20"
          position="-0.45 -0.15 0.10">
          <a-text value="ZOOM +" color="#1a0012" width="1.8" position="0 0 0.12" align="center"></a-text>
        </a-box>

        <!-- RESET -->
        <a-box class="clickable" id="btn-reset"
          color="#ffd1f0"
          width="0.55" height="0.18" depth="0.20"
          position="0.45 -0.15 0.10">
          <a-text value="RESET" color="#1a0012" width="1.8" position="0 0 0.12" align="center"></a-text>
        </a-box>

        <!-- Maža pastaba -->
        <a-text
          value="click buttons"
          color="#ffd6f2"
          width="2"
          position="0 -0.52 0.02"
          align="center"
          opacity="0.85">
        </a-text>
      </a-entity>

    </a-scene>

    <script src="js/controls.js"></script>
  </body>
</html>
